# Tukuru HP 公開手順仕様書

GitHub Pages を使用した静的サイトの公開手順

---

## 概要

| 項目 | 内容 |
|------|------|
| ホスティングサービス | GitHub Pages |
| 費用 | 無料 |
| SSL | 無料（自動発行） |
| 独自ドメイン | 対応（無料） |
| 更新方法 | git push で自動反映 |

---

## 前提条件

- [ ] GitHubアカウントを持っている
- [ ] Git がローカルにインストールされている
- [ ] 独自ドメインを持っている（Google Workspace等で管理）

---

## Step 1: GitHubにリポジトリを作成

1. https://github.com にログイン
2. 右上の「**+**」→「**New repository**」をクリック
3. 以下を入力：
   - **Repository name**: `tukuru-hp`（任意の名前）
   - **Description**: Tukuru Corporate Website（任意）
   - **Public** を選択
4. 「**Create repository**」をクリック

> リポジトリ作成後に表示されるURLをメモしておく
> 例: `https://github.com/ユーザー名/tukuru-hp.git`

---

## Step 2: ローカルからGitHubへプッシュ

ターミナルで以下のコマンドを実行：

```bash
# プロジェクトフォルダに移動
cd /Users/okayuuji/Desktop/Tukuru_HP

# リモートリポジトリを追加
git remote add origin https://github.com/ユーザー名/tukuru-hp.git

# 現在の変更をステージング
git add .

# コミット
git commit -m "Initial commit: Tukuru corporate website"

# GitHubにプッシュ
git push -u origin main
```

### エラーが出た場合

**「remote origin already exists」の場合：**
```bash
git remote remove origin
git remote add origin https://github.com/ユーザー名/tukuru-hp.git
```

**「main does not exist」の場合：**
```bash
git branch -M main
git push -u origin main
```

---

## Step 3: GitHub Pages を有効化

1. GitHubのリポジトリページにアクセス
2. 「**Settings**」タブをクリック
3. 左サイドメニューの「**Pages**」をクリック
4. **Build and deployment** セクションで：
   - **Source**: 「Deploy from a branch」を選択
   - **Branch**: 「main」を選択、フォルダは「/ (root)」
5. 「**Save**」をクリック

### 確認

数分後、以下のURLでサイトが公開される：
```
https://ユーザー名.github.io/tukuru-hp/
```

---

## Step 4: 独自ドメインの設定

### 4-1. GitHub側の設定

1. リポジトリの「**Settings**」→「**Pages**」
2. 「**Custom domain**」欄に独自ドメインを入力
   - 例: `www.tukuru.co.jp` または `tukuru.co.jp`
3. 「**Save**」をクリック
4. DNS設定完了後、「**Enforce HTTPS**」にチェックを入れる

### 4-2. DNS側の設定

Google Workspace（Google Admin Console）または Google Domains でDNSレコードを追加。

#### パターンA: wwwサブドメインのみ使用する場合

```
タイプ:  CNAME
ホスト:  www
値:      ユーザー名.github.io
TTL:     3600（または自動）
```

#### パターンB: ルートドメイン（apex domain）のみ使用する場合

```
タイプ:  A
ホスト:  @
値:      185.199.108.153
TTL:     3600

タイプ:  A
ホスト:  @
値:      185.199.109.153
TTL:     3600

タイプ:  A
ホスト:  @
値:      185.199.110.153
TTL:     3600

タイプ:  A
ホスト:  @
値:      185.199.111.153
TTL:     3600
```

#### パターンC: 両方対応する場合（推奨）

上記のAレコード4つ + CNAMEレコードを全て追加。

```
# ルートドメイン用（Aレコード×4）
A    @    185.199.108.153
A    @    185.199.109.153
A    @    185.199.110.153
A    @    185.199.111.153

# wwwサブドメイン用（CNAME×1）
CNAME    www    ユーザー名.github.io
```

### 4-3. DNS反映の確認

DNS設定後、反映まで数分〜最大48時間かかる場合があります。

```bash
# ターミナルで確認
dig www.tukuru.co.jp +short
dig tukuru.co.jp +short
```

正しく設定されていれば、GitHub PagesのIPアドレスが返ってきます。

---

## Step 5: HTTPS の有効化

DNS設定が反映された後：

1. リポジトリの「**Settings**」→「**Pages**」
2. 「**Enforce HTTPS**」にチェックを入れる

> チェックがグレーアウトしている場合は、DNS反映を待ってから再度試してください。

---

## サイト更新手順

サイトを更新したい場合、以下のコマンドを実行：

```bash
# プロジェクトフォルダに移動
cd /Users/okayuuji/Desktop/Tukuru_HP

# 変更をステージング
git add .

# コミット（メッセージは変更内容に応じて）
git commit -m "Update: ○○を修正"

# プッシュ
git push
```

プッシュ後、**1〜2分**で自動的にサイトに反映されます。

---

## トラブルシューティング

### サイトが表示されない

1. リポジトリが **Public** になっているか確認
2. Settings → Pages で正しいブランチが選択されているか確認
3. `index.html` がルートディレクトリに存在するか確認

### CSSが適用されない

GitHub Pagesのベースパスが原因の可能性：

```html
<!-- 相対パスを使用していることを確認 -->
<link rel="stylesheet" href="css/style.css">
<script src="js/main.js"></script>
```

### 独自ドメインでアクセスできない

1. DNS設定が正しいか確認
2. 反映に時間がかかっている可能性（最大48時間）
3. ブラウザのキャッシュをクリア

### 404エラーが出る

リポジトリのルートに `index.html` があることを確認。

---

## 参考リンク

- [GitHub Pages 公式ドキュメント](https://docs.github.com/ja/pages)
- [カスタムドメインの設定](https://docs.github.com/ja/pages/configuring-a-custom-domain-for-your-github-pages-site)
- [GitHub Pages のIPアドレス一覧](https://docs.github.com/ja/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site)

---

## チェックリスト

### 公開前
- [ ] GitHubアカウント作成済み
- [ ] リポジトリ作成済み
- [ ] ローカルからプッシュ完了
- [ ] GitHub Pages 有効化済み
- [ ] デフォルトURL（github.io）で表示確認

### 独自ドメイン設定
- [ ] GitHub側でカスタムドメイン設定
- [ ] DNS側でレコード追加
- [ ] DNS反映確認
- [ ] HTTPS有効化
- [ ] 独自ドメインで表示確認

---

**作成日:** 2025年1月31日
**最終更新:** 2025年1月31日
